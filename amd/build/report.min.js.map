{"version":3,"sources":["../src/report.js"],"names":["define","$","log","cfg","ltcreport","init","bind","rule_filter_toggle","load_filter_rule_form","debug","e","preventDefault","stopPropagation","that","cmid","attr","component","view","itemid","url","wwwroot","get","data","html","removeClass","cancel_filter_rule_form","addClass","css"],"mappings":"AAkBAA,OAAM,gCAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,aAAvB,CAAD,CAAwC,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAAsB,CAEhE,GAAIC,CAAAA,CAAS,CAAG,CAEZC,IAAI,CAAE,eAAW,CACbJ,CAAC,CAAC,iCAAD,CAAD,CAAqCK,IAArC,CAA0C,OAA1C,CAAmD,KAAKC,kBAAxD,EACAN,CAAC,CAAC,eAAD,CAAD,CAAmBK,IAAnB,CAAwB,OAAxB,CAAiC,KAAKE,qBAAtC,EACAN,CAAG,CAACO,KAAJ,CAAU,6BAAV,CACH,CANW,CAQZD,qBAAqB,CAAE,+BAAUE,CAAV,CAAa,CAEhCA,CAAC,CAACC,cAAF,GACAD,CAAC,CAACE,eAAF,GAHgC,GAK5BC,CAAAA,CAAI,CAAGZ,CAAC,CAAC,IAAD,CALoB,CAM5Ba,CAAI,CAAGD,CAAI,CAACE,IAAL,CAAU,WAAV,CANqB,CAO5BC,CAAS,CAAGH,CAAI,CAACE,IAAL,CAAU,gBAAV,CAPgB,CAQ5BE,CAAI,CAAGJ,CAAI,CAACE,IAAL,CAAU,WAAV,CARqB,CAS5BG,CAAM,CAAGL,CAAI,CAACE,IAAL,CAAU,aAAV,CATmB,CAW5BI,CAAG,CAAGhB,CAAG,CAACiB,OAXkB,CAYhCD,CAAG,EAAI,IAAMH,CAAb,CACAG,CAAG,EAAI,uCAAP,CACAA,CAAG,EAAI,MAAQL,CAAf,CACAK,CAAG,EAAI,yBAAP,CACAA,CAAG,EAAI,SAAWF,CAAlB,CACAE,CAAG,EAAI,WAAaD,CAApB,CAEAjB,CAAC,CAACoB,GAAF,CAAMF,CAAN,CAAW,SAASG,CAAT,CAAe,CACtBrB,CAAC,CAAC,sBAAD,CAAD,CAA0BsB,IAA1B,CAA+BD,CAA/B,EACArB,CAAC,CAAC,sBAAD,CAAD,CAA0BuB,WAA1B,CAAsC,QAAtC,EACAvB,CAAC,CAAC,sBAAD,CAAD,CAA0BK,IAA1B,CAA+B,OAA/B,CAAwCF,CAAS,CAACqB,uBAAlD,CACH,CAJD,EAMA,QACH,CAlCW,CAoCZA,uBAAuB,CAAE,kCAAY,CACjCxB,CAAC,CAAC,sBAAD,CAAD,CAA0BsB,IAA1B,CAA+B,EAA/B,EACAtB,CAAC,CAAC,sBAAD,CAAD,CAA0ByB,QAA1B,CAAmC,QAAnC,CACH,CAvCW,CAyCZnB,kBAAkB,CAAE,4BAAUG,CAAV,CAAa,CAE7BA,CAAC,CAACC,cAAF,GACAD,CAAC,CAACE,eAAF,GAGA,GAAI,QAAUX,CAAC,0BAAD,CAAgB0B,GAAhB,CAAoB,SAApB,CAAd,CAA8C,CAC1C1B,CAAC,0BAAD,CAAgB0B,GAAhB,CAAoB,SAApB,CAA+B,OAA/B,EACA1B,CAAC,CAAC,mCAAD,CAAD,CAAuCuB,WAAvC,CAAmD,SAAnD,EACAvB,CAAC,CAAC,mCAAD,CAAD,CAAuCyB,QAAvC,CAAgD,UAAhD,EACAzB,CAAC,CAAC,iCAAD,CAAD,CAAqCc,IAArC,CAA0C,eAA1C,IACH,CALD,IAKO,CACHd,CAAC,0BAAD,CAAgB0B,GAAhB,CAAoB,SAApB,CAA+B,MAA/B,EACA1B,CAAC,CAAC,mCAAD,CAAD,CAAuCuB,WAAvC,CAAmD,UAAnD,EACAvB,CAAC,CAAC,mCAAD,CAAD,CAAuCyB,QAAvC,CAAgD,SAAhD,EACAzB,CAAC,CAAC,iCAAD,CAAD,CAAqCc,IAArC,CAA0C,eAA1C,IACH,CAED,QACH,CA5DW,CAAhB,CA+DA,MAAOX,CAAAA,CACV,CAlEK,CAAN","sourcesContent":["\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n// jshint unused: true, undef:true\n\ndefine(['jquery', 'core/log', 'core/config'], function($, log, cfg) {\n\n    var ltcreport = {\n\n        init: function() {\n            $('#ltc-event-filter-toggle-handle').bind('click', this.rule_filter_toggle);\n            $('#ltc-add-rule').bind('click', this.load_filter_rule_form);\n            log.debug(\"AMD Ltc reports initialized\");\n        },\n\n        load_filter_rule_form: function (e) {\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            var that = $(this);\n            var cmid = that.attr('data-cmid');\n            var component = that.attr('data-component');\n            var view = that.attr('data-view');\n            var itemid = that.attr('data-itemid');\n\n            var url = cfg.wwwroot;\n            url += '/' + component;\n            url += '/learningtimecheck/ajax/services.php?';\n            url += 'id=' + cmid;\n            url += '&what=getfilterruleform';\n            url += '&view=' + view;\n            url += '&itemid=' + itemid;\n\n            $.get(url, function(data) {\n                $('#ltc-filter-new-rule').html(data);\n                $('#ltc-filter-new-rule').removeClass('hidden');\n                $('#ltc-new-rule-cancel').bind('click', ltcreport.cancel_filter_rule_form);\n            });\n\n            return false;\n        },\n\n        cancel_filter_rule_form: function () {\n            $('#ltc-filter-new-rule').html('');\n            $('#ltc-filter-new-rule').addClass('hidden');\n        },\n\n        rule_filter_toggle: function (e) {\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            var filterformid = '#ltc-event-filter-form';\n            if ('none' == $(filterformid).css('display')) {\n                $(filterformid).css('display', 'block');\n                $('#ltc-event-filter-toggle-handle i').removeClass('fa-plus');\n                $('#ltc-event-filter-toggle-handle i').addClass('fa-minus');\n                $('#ltc-event-filter-toggle-handle').attr('aria-expanded', true);\n            } else {\n                $(filterformid).css('display', 'none');\n                $('#ltc-event-filter-toggle-handle i').removeClass('fa-minus');\n                $('#ltc-event-filter-toggle-handle i').addClass('fa-plus');\n                $('#ltc-event-filter-toggle-handle').attr('aria-expanded', false);\n            }\n\n            return false;\n        }\n    };\n\n    return ltcreport;\n});"],"file":"report.min.js"}